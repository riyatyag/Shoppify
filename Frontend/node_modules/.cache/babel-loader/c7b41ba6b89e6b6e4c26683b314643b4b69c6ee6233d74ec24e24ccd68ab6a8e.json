{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/E-Commerce/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/E-Commerce/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DELL/Desktop/E-Commerce/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./CSS/ShopCategory.css\";import axios from\"axios\";import dropdown_icon from\"../Components/Assets/dropdown_icon.png\";import Item from\"../Components/Item/Item\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShopCategory=function ShopCategory(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filteredProducts=_useState2[0],setFilteredProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var fetchCategoryProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"https://shoppify-backend-gofd.onrender.com/allproducts\");case 4:res=_context.sent;products=res.data.filter(function(item){return item.category.toLowerCase()===props.category.toLowerCase();});setFilteredProducts(products);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(\"Failed to fetch category products:\",_context.t0);setError(\"Failed to load products. Try again later.\");case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,9,13,16]]);}));return function fetchCategoryProducts(){return _ref.apply(this,arguments);};}();fetchCategoryProducts();},[props.category]);return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-category\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"shopCategory-banner\",src:props.banner,alt:\"banner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"shopCategory-indexSort\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing \",filteredProducts.length]}),\" product(s)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shopCategory-short\",children:[\"sort by \",/*#__PURE__*/_jsx(\"img\",{src:dropdown_icon,alt:\"sort\"})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"shopCategory-loading\",children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"shopCategory-error\",children:error}):/*#__PURE__*/_jsx(\"div\",{className:\"shopCategory-products\",children:filteredProducts.map(function(item,i){return/*#__PURE__*/_jsx(Item,{id:item.id,name:item.name,image:item.image,new_price:item.new_price,old_price:item.old_price},i);})})]});};export default ShopCategory;","map":{"version":3,"names":["React","useEffect","useState","axios","dropdown_icon","Item","jsx","_jsx","jsxs","_jsxs","ShopCategory","props","_useState","_useState2","_slicedToArray","filteredProducts","setFilteredProducts","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetchCategoryProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","products","wrap","_callee$","_context","prev","next","get","sent","data","filter","item","category","toLowerCase","t0","console","finish","stop","apply","arguments","className","children","src","banner","alt","length","map","i","id","name","image","new_price","old_price"],"sources":["C:/Users/DELL/Desktop/E-Commerce/Frontend/src/Pages/ShopCategory.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./CSS/ShopCategory.css\";\r\nimport axios from \"axios\";\r\nimport dropdown_icon from \"../Components/Assets/dropdown_icon.png\";\r\nimport Item from \"../Components/Item/Item\";\r\n\r\nconst ShopCategory = (props) => {\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchCategoryProducts = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await axios.get(\"https://shoppify-backend-gofd.onrender.com/allproducts\");\r\n        const products = res.data.filter(\r\n          (item) => item.category.toLowerCase() === props.category.toLowerCase()\r\n        );\r\n        setFilteredProducts(products);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch category products:\", err);\r\n        setError(\"Failed to load products. Try again later.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCategoryProducts();\r\n  }, [props.category]);\r\n\r\n  return (\r\n    <div className=\"shop-category\">\r\n      <img className=\"shopCategory-banner\" src={props.banner} alt=\"banner\" />\r\n\r\n      <div className=\"shopCategory-indexSort\">\r\n        <p>\r\n          <span>Showing {filteredProducts.length}</span> product(s)\r\n        </p>\r\n        <div className=\"shopCategory-short\">\r\n          sort by <img src={dropdown_icon} alt=\"sort\" />\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"shopCategory-loading\">Loading...</div>\r\n      ) : error ? (\r\n        <div className=\"shopCategory-error\">{error}</div>\r\n      ) : (\r\n        <div className=\"shopCategory-products\">\r\n          {filteredProducts.map((item, i) => (\r\n            <Item\r\n              key={i}\r\n              id={item.id}\r\n              name={item.name}\r\n              image={item.image}\r\n              new_price={item.new_price}\r\n              old_price={item.old_price}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShopCategory;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}